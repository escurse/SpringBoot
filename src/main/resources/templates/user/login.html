<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>로그인페이지</title>
</head>
<body>
<h1>로그인페이지</h1>
<form action="/user/login" method="post">
    아이디: <input type="text" name="id"> <br>
    비밀번호: <input type="text" name="pw"> <br>
    <input type="checkbox"> 아이디저장 <br>
    <button>전송</button>
</form>
</body>
</html>
<script>
    const idInput = document.querySelector('input[name=id]');
    const idCheckBox = document.querySelector('input[type=checkbox]');
    const submitBtn = document.querySelector('button');
    // 전송 버튼을 누르면
    submitBtn.onclick = () => {
        // 아이디 저장 체크가 되어있는지 확인
        if(idCheckBox.checked){
            // 작성된 아이디 값을 가져옴
            const id = idInput.value;
            // 현재 날짜 가져옴
            const expire = new Date();
            // 현재 날짜보다 1분 늦는 날짜로 설정함
            expire.setMinutes(expire.getMinutes() + 1);
            // 쿠키를 생성 (name = id, value = 작성된 아이디)
            document.cookie = `id=${id}; expires=${expire.toUTCString()}`;
        } else {
            document.cookie = 'id=';
        }
    }
    const cookies = document.cookie;
    const cookieEntries = cookies.split(';');
    for (const cookieEntry of cookieEntries) {
        const [name, value] = cookieEntry.trim().split('=');
        if (name === 'id') {
            idInput.value = value;
        }
    }
</script>